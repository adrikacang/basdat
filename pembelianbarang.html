<!-- tes front end -->
<!DOCTYPE html>

<head>

	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Pembelian Barang</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

</head>

<body id="home">
	<div class="container">
		<h2>Bordered Table</h2>
  		<p>Silahkan pesan disini</p> 
		<table class='table table-bordered'>
			<thead>
				<tr><th>Kode Produk</th> <th>Nama Produk</th> <th>Stock</th> <th>HargaSatuan</th> <th>Kuantitas</th> <th>Beli</th> </th>
			</thead>
			<tbody>
				<tr><td>$item.kodeProduk</td><td>$item.namaProduk</td><td>$item.jmlStock</td><td>$item.harga </td> <td> <input name='kuantitas'> </td><td><button id = 'h'class = 'btn btn-default'>Beli</button></td></tr>
				<tr><td>$item.kodeProduk</td><td>$item.namaProduk</td><td>$item.jmlStock</td><td>$item.harga </td> <td> <input name='kuantitas'> </td><td><button class = 'btn btn-default'>Beli</button></td></tr>
				<tr><td>$item.kodeProduk</td><td>$item.namaProduk</td><td>$item.jmlStock</td><td>$item.harga </td> <td> <input name='kuantitas'> </td><td><button class = 'btn btn-default'>Beli</button></td></tr>
			</tbody>
		</table>

		<button class="btn btn-primary btn-lg" >Pesan</button>
	</div>
	
	<script>

		var array = [];


		$(document).ready(function(){
			alert("tes");
			$(".btn-default").click(function() {
				console.log("tombol baru di klick");
				$(this).toggleClass("btn btn-success btn-md");
				$(this).prop('disabled', true);
				var baris = $(this).parents().get(1);
				var anak = baris.children;
				/*
				alert(baris.innerHTML);
				alert(anak[4].children[0].value);
				alert(anak[0].innerHTML);
				*/
				barang = {
					kodeProduk : anak[0].innerHTML,
					namaProduk :  anak[1].innerHTML,
					jmlStock : anak[2].innerHTML,
					harga : anak[3].innerHTML,
					kuantitas : anak[4].children[0].value
				};
				array.push(barang); //masukin ke array buat di encode ke JSON terus kirim ke PHP
			}); //end $(".btn btn-default").click(function()
			$(".btn-primary").click(function() {
				var x = JSON.stringify(array);
				sessionStorage.setItem('jsondata',x);
				alert(x);
				//window.location.assign("konfirmasipembelian.php");
			}); // end $(".btn btn-primary btn-lg").click(function()
		}); //end document.ready(function)

	</script>
</body>
